/*Copyright Lexmark 2016. All rights reserved.*/

define("framework-home/src/resources/strings.json",[],{en:{activityCardTitle:"Recent Activity",activityCardDescription:"Displays a list of the most recent events in the system.",activityTabTitle:"Activity",addTabAction:"Add Tab",addWidgetAction:"Add Widget",appsTabTitle:"Apps",cancelAction:"Discard Changes",cancelMessage:"Are you sure you want to discard the changes made to {tabName}?",deleteTabAction:"Delete Tab",deleteTabMessage:"Are you sure you want to remove {tabName} and its widget?",deleteWidgetAction:"Remove Widget",editTabAction:"Edit Tab",editWidgetAction:"Edit Widget",tabZeroStateHeader:"You created a new tab",tabZeroStateDescription:"Give it a title and [add some widgets].",title:"Home",untitledTab:"Untitled",widgetConfigDescription:"Description",widgetConfigExample:"Example",widgetConfigSettings:"Settings",widgetSelectionTitle:"Available Widgets",widgetViewDetails:"View Details"}}),define("framework-home/src/resources",["framework-core","json!static:./resources/strings"],function(e,t){"use strict";return t.root=t.en,e.Strings.load(t)}),define("framework-home/src/utility/getArray",[],function(){"use strict";return function(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=e.concat(i))}return e}}),define("framework-home/src/utility/removeFromArray",[],function(){"use strict";return function(e,t){for(var i=t.length-1;i>=0;i--){var n=e.indexOf(t[i]),a=n>=0?e:t;a.splice(n,1)}return t}}),define("framework-home/src/data/list",["framework-core","../utility/getArray","../utility/removeFromArray"],function(e,t,i){"use strict";function n(){this.items=[]}return n.prototype=e.Events.enableFor({add:function(){var e=t.apply(null,arguments);return this.filter&&(e=e.filter(this.filter,this)),e.length?(this.map&&(e=e.map(this.map,this)),this.items=this.items.concat(e),this.trigger("add",e),e):void 0},get:function(){return this.items.slice()},remove:function(){var e=i(this.items,t.apply(null,arguments));return e.length?(this.trigger("remove",e),e):void 0}}),n}),define("framework-home/src/data/activityList",["./list"],function(e){"use strict";function t(){e.call(this)}return t.prototype=Object.create(e.prototype),t.prototype.filter=function(e){return e.date&&e.content},t}),define("framework-home/src/widgets/activityView",["framework-core","framework-controls","../data/activityList"],function(e,t,i){"use strict";return e.View.extend({className:"home__activity-view",initialize:function(n){this.activityList=n&&n.activityList||i.instance,this.grid=new t.Grid(null,{components:["emptyState"],emptyStateHeader:"No Recent Activity",presentationType:"list",selection:"none",dataOrganizers:[new t.SortHandler({property:"sourceItem.createdDate",isAscending:!1})],helpers:{date:function(t,i){return t?e.Dates.format(t,i.hash):void 0}},content:function(e){return e.item.sourceItem.content}})},onItemAdded:function(e){for(var t=0;t<e.length;t++)this.grid.addItem(e[t])},onItemRemoved:function(e){for(var t=0;t<e.length;t++)this.grid.removeItem(e[t])},remove:function(){e.View.prototype.remove.call(this),this.stopListening(this.activityList),this.grid.remove()},render:function(){this.grid.setItems(this.activityList.get()),this.element.appendChild(this.grid.getElement()),this.listenTo(this.activityList,{add:this.onItemAdded,remove:this.onItemRemoved})}})}),define("framework-home/src/widgets",["./resources","./widgets/activityView"],function(e,t){"use strict";return function(i){i.register("activity-view",{title:e.get("activityCardTitle"),view:t,name:e.get("activityCardTitle"),description:e.get("activityCardDescription")})}}),define("framework-home_src_templates_cabToolbar_html",[],function(){return{1:function(e,t,i,n,a){var s;return'        <span class="home__cab-title">'+e.escapeExpression((s=null!=(s=i.title||(null!=t?t.title:t))?s:i.helperMissing,"function"==typeof s?s.call(t,{name:"title",hash:{},data:a}):s))+"</span>\n"},3:function(e,t,i,n,a){var s,o=i.helperMissing,r="function",l=e.escapeExpression;return'        <input class="home__tab-name" type="text" placeholder="'+l((s=null!=(s=i.tabTitlePlaceHolder||(null!=t?t.tabTitlePlaceHolder:t))?s:o,typeof s===r?s.call(t,{name:"tabTitlePlaceHolder",hash:{},data:a}):s))+'" value="'+l((s=null!=(s=i.name||(null!=t?t.name:t))?s:o,typeof s===r?s.call(t,{name:"name",hash:{},data:a}):s))+'"/>\n        <button class="btn--link js-delete-button">\n            <span class="icon icon-delete" aria-hidden="true"></span>\n        </button>\n'},5:function(e,t,i,n,a){var s,o=i.helperMissing,r="function",l=e.escapeExpression;return'<div class="home__tab-name-container">\n    <input class="home__tab-name" type="text" placeholder="'+l((s=null!=(s=i.tabTitlePlaceHolder||(null!=t?t.tabTitlePlaceHolder:t))?s:o,typeof s===r?s.call(t,{name:"tabTitlePlaceHolder",hash:{},data:a}):s))+'" value="'+l((s=null!=(s=i.name||(null!=t?t.name:t))?s:o,typeof s===r?s.call(t,{name:"name",hash:{},data:a}):s))+'"/>\n</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s;return'<div class="home__cab-toolbar cab-toolbar">\n    <div class="toolbar__section--left">\n        <button class="btn--link js-cancel-button">\n            <span class="icon icon-close" aria-hidden="true"></span>\n        </button>\n    </div>\n    <div class="toolbar__section--center">\n'+(null!=(s=i["if"].call(t,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?s:"")+'    </div>\n    <div class="toolbar__section--right">\n        <button class="btn--link js-done-button">\n            <span class="icon icon-checkmark" aria-hidden="true"></span>\n        </button>\n    </div>\n</div>\n'+(null!=(s=i["if"].call(t,null!=t?t.showMobileInput:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?s:"")},useData:!0}}),define("framework-home/src/views/cabView",["framework-core","framework-controls","../resources","template!../templates/cabToolbar.html"],function(e,t,i,n){"use strict";return e.View.extend({className:"home__tab-edit",domEvents:{"input .home__tab-name":"onTabNameChanged"},initialize:function(t){this.options=t||{},this.state=this.options.state,void 0===this.options.isSmallForm&&(this.options.isSmallForm="phone"===(new e.PlatformDetector).type())},remove:function(){this.toolbar.remove(),e.View.prototype.remove.call(this)},render:function(){var e;this.state.widgetDef?e=i.get("editWidgetAction"):this.state.widget?e=i.get(this.state.widget.id?"editWidgetAction":"widgetSelectionTitle"):this.options.isSmallForm&&(e=this.state.tab.isPending?i.get("addTabAction"):i.get("editTabAction")),this.element.innerHTML=n.render({tabTitlePlaceHolder:i.get("untitledTab"),name:this.state.pending.tab.title,showMobileInput:this.options.isSmallForm&&!this.state.widget&&!this.state.widgetDef,title:e}),this.toolbar&&this.toolbar.remove(),this.toolbar=new t.Toolbar(this.element.firstElementChild),this.nameInput=this.element.querySelector(".home__tab-name"),this.nameInput&&this.nameInput.focus()},onTabNameChanged:function(e){this.state.pending.tab.title=e.target.value.trim()}})}),define("framework-home/src/utility/getSimpleId",[],function(){"use strict";return function(e){for(var t={},i=0;i<e.length;i++)t[e[i].id]=!0;for(var n=Math.ceil(1e6*Math.random());t[n];)n++;return n}}),define("framework-home/src/utility/swipeHandler",["lodash","framework-core","framework-controls"],function(e,t,i){"use strict";function n(e){this.element=e,this.element.addEventListener("touchstart",this.onTouchStart.bind(this),!1),this.element.addEventListener("touchend",this.onTouchEnd.bind(this),!1),this.element.addEventListener("touchcancel",this.onTouchCancel.bind(this),!1)}return n.prototype={getTouch:function(t){return this.initialTouch?e.find(t.changedTouches,{identifier:this.initialTouch.identifier}):void 0},onTouchStart:function(e){var t=e.touches;if(t&&1===t.length){var i=t[0];this.initialTouch={identifier:i.identifier,timeStamp:e.timeStamp,pageX:i.pageX,pageY:i.pageY}}},onTouchEnd:function(e){var t=this.getTouch(e);if(t){var n=t.pageX-this.initialTouch.pageX,a=Math.abs(n),s=Math.abs(t.pageY-this.initialTouch.pageY),o=e.timeStamp-this.initialTouch.timeStamp;if(this.initialTouch=null,a>80&&a>s&&500>o){var r=i.Utility.getScrollParent(t.target);r.scrollWidth<=r.offsetWidth&&this.trigger("swipe",e,n>0)}}},onTouchCancel:function(e){this.getTouch(e)&&(this.initialTouch=null)}},t.Events.enableFor(n.prototype),n}),define("framework-home/src/views/activityFeedView",["framework-core","framework-controls","../widgets/activityView"],function(e,t,i){"use strict";return e.View.extend({className:"home__activity-feed-view",initialize:function(){this.view=new i},remove:function(){e.View.prototype.remove.call(this),this.view.remove()},render:function(){this.view.render(),this.element.appendChild(this.view.element)}})}),define("framework-home/src/data/appList",["./list"],function(e){"use strict";function t(){e.call(this)}return t.prototype=Object.create(e.prototype),t.prototype.filter=function(e){return e.icon&&e.path&&e.title},t}),define("framework-home_src_templates_appIcon_html",[],function(){return{1:function(e,t,i,n,a){var s;return'        <img class="app__icon app__icon--image"\n             aria-hidden="true"\n             src="'+e.escapeExpression(e.lambda(null!=(s=null!=t?t.def:t)?s.icon:s,t))+'"\n             '+(null!=(s=i["if"].call(t,null!=t?t.srcset:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?s:"")+"\n        />\n"},2:function(e,t,i,n,a){var s;return'srcset="'+e.escapeExpression((s=null!=(s=i.srcset||(null!=t?t.srcset:t))?s:i.helperMissing,"function"==typeof s?s.call(t,{name:"srcset",hash:{},data:a}):s))+'" '},4:function(e,t,i,n,a){var s;return'        <span class="app__icon icon '+e.escapeExpression(e.lambda(null!=(s=null!=t?t.def:t)?s.icon:s,t))+'" aria-hidden="true"></span>\n'},6:function(e,t,i,n,a){var s,o,r=e.escapeExpression;return'            <a class="app__action" href="'+r((o=null!=(o=i.actionHref||(null!=t?t.actionHref:t))?o:i.helperMissing,"function"==typeof o?o.call(t,{name:"actionHref",hash:{},data:a}):o))+'">'+r(e.lambda(null!=(s=null!=(s=null!=t?t.def:t)?s.action:s)?s.title:s,t))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o,r=e.escapeExpression;return'<li class="home__app-item" data-index="'+r((o=null!=(o=i.index||(null!=t?t.index:t))?o:i.helperMissing,"function"==typeof o?o.call(t,{name:"index",hash:{},data:a}):o))+'" aria-role="link" tabindex="0">\n    <div class="home__app-widget">\n'+(null!=(s=i["if"].call(t,null!=t?t.isImage:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(4,a,0),data:a}))?s:"")+'        <div class="app__content">\n            <h2 class="app__title">'+r(e.lambda(null!=(s=null!=t?t.def:t)?s.title:s,t))+"</h2>\n"+(null!=(s=i["if"].call(t,null!=(s=null!=t?t.def:t)?s.action:s,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))?s:"")+"        </div>\n    </div>\n</li>"},useData:!0}}),define("framework-home/src/views/appView",["framework-core","../data/appList","template!../templates/appIcon.html"],function(e,t,i){"use strict";function n(e){return e&&"#"!==e[0]&&!/^((http|https):\/\/)/.test(e)?"#"+e:e}function a(e,t){var i={def:e,index:t,href:n(e.path)};e.action&&(i.actionHref=n(e.action.path));var a=e.icon;if(a.substring(a.lastIndexOf("/")+1).indexOf(".")>=0){i.isImage=!0;var s=[];Object.keys(e).forEach(function(t){var i=t.match(/icon([^]+)x/),n=i&&parseInt(i[1],10);n&&s.push(e[t]+" "+n+"x")}),s.length&&(i.srcset=s.join(", "))}return i}return e.View.extend({className:"home__app-view",domEvents:{resize:"onResize","mouseup .home__app-item":"onAppMouseUp","keydown .home__app-item":"onAppKeydown","click .home__app-item":"onAppClick"},initialize:function(e){this.element.setAttribute("data-resizable",""),this.appList=e.appList||t.instance},getAppPathFromEvent:function(e,t){var i=this.appIcons[e.currentTarget.getAttribute("data-index")];if(i){var a;return t||(a=n(i.def.currentFragment)),a||i.href}},onAppClick:function(t,i){if("A"!==t.target.tagName){var n=this.getAppPathFromEvent(t,i);t.ctrlKey||t.metaKey||i?window.open(n):e.Location.navigate(n,{trigger:!0})}},onAppKeydown:function(e){13===e.which&&this.onAppClick(e)},onAppMouseUp:function(e){2===e.which&&this.onAppClick(e,!0)},onResize:function(){this.listElement.style.maxWidth="";var e=this.listElement.offsetWidth,t=Math.max(320,Math.min(960,320*Math.floor(e/320)));this.listElement.style.maxWidth=t+"px",this.element.style.visibility="visible"},render:function(){this.listElement&&this.listElement.remove(),this.listElement=document.createElement("ul"),this.listElement.className="home__app-list",this.appIcons=this.appList.get().sort(function(e,t){return e.title.localeCompare(t.title)}).map(a);for(var e=0;e<this.appIcons.length;e++)this.listElement.insertAdjacentHTML("beforeend",i.render(this.appIcons[e]));this.element.style.visibility="hidden",this.element.appendChild(this.listElement),setTimeout(this.onResize.bind(this),1)}})}),define("framework-home_src_templates_tabs_html",[],function(){return{1:function(e,t,i,n,a){var s,o,r=e.escapeExpression;return'    <li class="home__tab"><a class="home__tab-link" href="'+r((o=null!=(o=i.href||(null!=t?t.href:t))?o:i.helperMissing,"function"==typeof o?o.call(t,{name:"href",hash:{},data:a}):o))+'">'+r(e.lambda(null!=(s=null!=t?t.def:t)?s.title:s,t))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o;return'<ul class="home__tabs">\n'+(null!=(s=i.each.call(t,null!=t?t.tabs:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?s:"")+'    <li class="home__tab">\n        <a class="home__tab-link--new" href="#home/newTab">\n            <span class="icon icon-add_thin" aria-hidden="true"></span> '+e.escapeExpression((o=null!=(o=i.addTabText||(null!=t?t.addTabText:t))?o:i.helperMissing,"function"==typeof o?o.call(t,{name:"addTabText",hash:{},data:a}):o))+'\n        </a>\n    </li>\n</ul>\n<button class="home__tab-edit-button">\n    <span class="icon icon-edit" aria-hidden="true"></span>\n</button>'},useData:!0}}),define("framework-home_src_templates_tabsMobile_html",[],function(){return{1:function(e,t,i,n,a){return'        <span class="home__tab-step"></span>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s;return'<div class="home__tab--mobile">\n    <button class="home__tab-actions btn--link">\n        <span class="home__tab-title"></span>\n        <span class="icon icon-caret_bottom" aria-hidden="true"></span>\n    </button>\n    <div class="home__tab-steps">\n'+(null!=(s=i.each.call(t,null!=t?t.tabs:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?s:"")+"    </div>\n</div>"},useData:!0}}),define("framework-home_src_templates_addWidget_html",[],function(){return{compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o=i.helperMissing,r="function",l=e.escapeExpression;return'<div class="home__widget--new">\n    <a href="#home/'+l((s=null!=(s=i.tabId||(null!=t?t.tabId:t))?s:o,typeof s===r?s.call(t,{name:"tabId",hash:{},data:a}):s))+'/edit/newWidget">\n        <span class="icon icon-add_thin" aria-hidden="true"></span> '+l((s=null!=(s=i.text||(null!=t?t.text:t))?s:o,typeof s===r?s.call(t,{name:"text",hash:{},data:a}):s))+"\n    </a>\n</div>"},useData:!0}}),define("framework-home_src_templates_widget_html",[],function(){return{1:function(e,t,i,n,a){var s;return'<span class="widget__header-icon icon icon-24 '+e.escapeExpression((s=null!=(s=i.icon||(null!=t?t.icon:t))?s:i.helperMissing,"function"==typeof s?s.call(t,{name:"icon",hash:{},data:a}):s))+'" aria-hidden="true"></span>'},3:function(e,t,i,n,a){var s=i.helperMissing,o=e.escapeExpression;return'    <button class="widget__edit-button btn--link" title="'+o((i.i18n||t&&t.i18n||s).call(t,"editWidgetAction",{name:"i18n",hash:{},data:a}))+'">\n        <span class="icon icon-gear" aria-hidden="true"></span>\n    </button>\n    <button class="widget__delete-button btn--link" title="'+o((i.i18n||t&&t.i18n||s).call(t,"deleteWidgetAction",{name:"i18n",hash:{},data:a}))+'">\n        <span class="icon icon-delete" aria-hidden="true"></span>\n    </button>\n'},5:function(e,t,i,n,a){return'<div class="card__metadata">\n    <button class="widget__add-button btn--primary">'+e.escapeExpression((i.i18n||t&&t.i18n||i.helperMissing).call(t,"widgetViewDetails",{name:"i18n",hash:{},data:a}))+"</button>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o;return'<div class="widget__header">\n    '+(null!=(s=i["if"].call(t,null!=t?t.icon:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?s:"")+'\n    <h2 class="widget__title">'+e.escapeExpression((o=null!=(o=i.title||(null!=t?t.title:t))?o:i.helperMissing,"function"==typeof o?o.call(t,{name:"title",hash:{},data:a}):o))+"</h2>\n"+(null!=(s=i["if"].call(t,null!=t?t.showActions:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?s:"")+"</div>\n"+(null!=(s=i["if"].call(t,null!=t?t.isSelection:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?s:"")},useData:!0}}),define("framework-home/src/views/widgetView",["framework-core","framework-controls","../resources","template!../templates/widget.html"],function(e,t,i,n){"use strict";return e.View.extend({className:"home__widget",domEvents:{"click .widget__add-button":"onAddButtonClick","click .widget__edit-button":"onEditClicked","click .widget__delete-button":"onDeleteClicked"},initialize:function(e){this.options=e||{},this.data=e.data||{},this.definition=e.definition||{}},render:function(){this.view&&(this.stopListening(this.view),this.view.remove());var e=this.definition.config,a=this.options.isPreview;this.view=new this.options.view(this.data,a&&e&&e.data),a&&this.$element.on("click","a",function(e){e.preventDefault()}),this.element.innerHTML=n.render({showActions:this.options.showActions,isSelection:this.options.isSelection,icon:this.options.icon||this.get("icon"),title:this.options.title||this.get("title")},{helpers:{i18n:i.get}}),this.options.isSelection&&this.element.classList.add("card--meta-hover"),this.listenTo(this.view,{"change:title":this.setTitle,"change:size":function(){this.trigger("change:size",this)},update:function(){this.trigger("update",this)}}),t.Tooltip.autoTooltip(this.element.querySelector(".widget__title")),this.options.isSettings&&this.view.renderSettings?this.view.renderSettings():this.view.render(),this.view.element.classList.add("widget__body"),this.element.insertBefore(this.view.element,this.element.firstElementChild.nextElementSibling)},get:function(e){return this.data[e]||this.definition[e]},onAddButtonClick:function(){var t=this.options.state.tab.def.id||"newTab",i="#home/"+t+"/edit/newWidget/"+this.data.type;e.Location.navigate(i,{trigger:!0})},onDeleteClicked:function(){this.trigger("remove",this)},onEditClicked:function(){var t=this.data.tab||"newTab",i="#home/"+t+"/edit/"+this.data.id;e.Location.navigate(i,{trigger:!0})},setTitle:function(e){this.element.querySelector(".widget__title").textContent=e}})}),define("framework-home_src_templates_widgetConfig_html",[],function(){return{1:function(e,t,i,n,a){return'        <button class="btn--primary btn--full-width js-add-widget">'+e.escapeExpression((i.i18n||t&&t.i18n||i.helperMissing).call(t,"addWidgetAction",{name:"i18n",hash:{},data:a}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o,r=i.helperMissing,l=e.escapeExpression;return'<div class="widget-config__header">\n    <div class="widget-config__description">\n        <h3>'+l((i.i18n||t&&t.i18n||r).call(t,"widgetConfigDescription",{name:"i18n",hash:{},data:a}))+'</h3>\n        <p class="widget__description">'+l((o=null!=(o=i.description||(null!=t?t.description:t))?o:r,"function"==typeof o?o.call(t,{name:"description",hash:{},data:a}):o))+"</p>\n"+(null!=(s=i["if"].call(t,null!=t?t.isNewWidget:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?s:"")+'    </div>\n    <div class="widget-config__example">\n        <h3>'+l((i.i18n||t&&t.i18n||r).call(t,"widgetConfigExample",{name:"i18n",hash:{},data:a}))+'</h3>\n    </div>\n</div>\n<div class="widget-config__settings">\n    <h3>'+l((i.i18n||t&&t.i18n||r).call(t,"widgetConfigSettings",{name:"i18n",hash:{},data:a}))+"</h3>\n</div>"},useData:!0}}),define("framework-home/src/views/widgetConfigView",["framework-core","../resources","./widgetView","template!../templates/widgetConfig.html"],function(e,t,i,n){"use strict";return e.View.extend({className:"home__widget-config-view",domEvents:{"click .js-add-widget":"onAddWidget"},initialize:function(e){this.options=e,this.widgetData=this.options.state.widget,this.widgetDef=this.options.state.widgetDef},render:function(){var e=new i({view:this.widgetDef.previewView||this.widgetDef.view,definition:this.widgetDef,data:this.widgetData,isPreview:!0});this.element.innerHTML=n.render({isNewWidget:!this.widgetData.id,description:e.get("description")},{helpers:{i18n:t.get}}),e.render(),this.element.querySelector(".widget-config__example").appendChild(e.element);var a=this.element.querySelector(".widget-config__settings"),s=this.widgetDef.config||{};if(s.view){var o=new s.view(this.widgetData,s.data);o.render(),a.appendChild(o.element)}else if(Array.isArray(s.cards))for(var r=0;r<s.cards.length;r++){var l=s.cards[r],d=new i({def:this.widgetDef,data:this.widgetData,view:l.view,icon:l.icon,title:l.title});d.render(),a.appendChild(d.element)}else if(e.view.renderSettings){var h=new i({view:this.widgetDef.previewView||this.widgetDef.view,definition:this.widgetDef,data:this.widgetData,isSettings:!0});h.render(),a.appendChild(h.element)}a.childElementCount<2&&a.remove()},onAddWidget:function(e){var t=e.target.closest(".module"),i=t&&t.querySelector(".js-done-button");i&&i.click()}})}),define("framework-home/src/data/localSession",["framework-core","logger"],function(e,t){"use strict";function i(){var t="home-widgets:"+(e.session.getUsername()||"Guest");if(t!==a.key){var i;window.localStorage&&(i=window.localStorage.getItem(t),i=i&&JSON.parse(i)),(!i||Array.isArray(i))&&(i={}),a.key=t,a.tabs=i.tabs||[],a.widgets=i.widgets||[]}return a}function n(){if(window.localStorage&&a.key)try{window.localStorage.setItem(a.key,JSON.stringify(a))}catch(e){t.log("Failed to save widgets to local storage",t.INFO)}}var a={};return{getWidgets:function(){return i().widgets},getWidgetTabs:function(){return i().tabs},setWidgets:function(e){window.localStorage&&a.key&&(a.widgets=e,n())},setWidgetTabs:function(e){window.localStorage&&a.key&&(a.tabs=e,n())}}}),define("framework-home/src/data/widgetList",["./list","../utility/getSimpleId","./localSession"],function(e,t,i){"use strict";function n(t){e.call(this),this.definitions={},this.dataSource=t||i,this.on("all",this.save,this)}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.filter=function(e){return e.type},n.prototype.load=function(){this.items=this.dataSource.getWidgets()},n.prototype.map=function(e){return e.id=t(this.items),e},n.prototype.register=function(e,t){e&&t&&t.view&&(this.definitions[e]=t)},n.prototype.save=function(){this.dataSource.setWidgets(this.items.filter(function(e){return e.tab}))},n.prototype.set=function(e){this.items.length=0,this.add(e),this.items.length||this.save()},n}),define("framework-home/src/views/widgetSelectionView",["framework-core","framework-controls","../data/widgetList","./widgetView"],function(e,t,i,n){"use strict";return e.View.extend({className:"home__widget-selection-view",initialize:function(e){this.options=e||{},this.widgetList=this.options.widgetList||i.instance,this.organizer=new t.CardOrganizer,this.element.appendChild(this.organizer.getElement())},render:function(){var e=[],t=this.widgetList.definitions;for(var i in t){var a=t[i],s=new n({view:a.previewView||a.view,state:this.options.state,definition:a,data:{type:i},isSelection:!0,isPreview:!0});s.render(),e.push({columns:s.get("columns"),element:s.element,view:s})}this.organizer.setItems(e)}})}),define("framework-home_src_templates_tabZeroState_html",[],function(){return{compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o,r=i.helperMissing,l="function";return'<div class="zero-state">\n    <div class="zero-state__container">\n        <span class="zero-state__icon icon icon-thumbs_up" aria-hidden="true"></span>\n        <h3 class="zero-state__header">'+e.escapeExpression((o=null!=(o=i.header||(null!=t?t.header:t))?o:r,typeof o===l?o.call(t,{name:"header",hash:{},data:a}):o))+'</h3>\n        <p class="zero-state__description">'+(null!=(o=null!=(o=i.description||(null!=t?t.description:t))?o:r,s=typeof o===l?o.call(t,{name:"description",hash:{},data:a}):o)?s:"")+"</p>\n    </div>\n</div>"},useData:!0}}),define("framework-home/src/views/widgetPageView",["lodash","framework-core","framework-controls","template!../templates/addWidget.html","../resources","./widgetView","./widgetConfigView","./widgetSelectionView","template!../templates/tabZeroState.html"],function(e,t,i,n,a,s,o,r,l){"use strict";return t.View.extend({className:"home__widget-view",initialize:function(e){this.options=e||{},this.state=this.options.state,this.ConfigView=this.options.ConfigView||o,this.SelectionView=this.options.SelectionView||r,this.organizer=new i.CardOrganizer({itemSelector:".home__widget"}),this.listenTo(this.organizer,"move:item",this.onWidgetMoved),this.addNewLink=i.Utility.renderTemplate(n,{text:a.get("addWidgetAction"),tabId:this.state.tab.def.id||"newTab"})},render:function(){this.view&&(this.view.remove(),this.view=null),this.state.widget?this.state.widget.id||this.state.widgetDef?this.showView(this.ConfigView):this.showView(this.SelectionView):this.showWidgets(this.state.isEditing)},createWidget:function(e){var t=this.state.widgetDefs[e.type];if(t&&e.tab==this.state.tab.def.id){var i=new s({showActions:this.state.isEditing,state:this.state,view:t.view,definition:t,data:e});return i.render(),this.listenTo(i,{"change:size":this.onUpdateWidget,remove:this.onRemoveWidget,update:this.onUpdateWidget}),{columns:i.get("columns"),element:i.element,view:i}}},createWidgets:function(e){for(var t=[],i=0;i<e.length;i++){var n=this.createWidget(e[i]);n&&t.push(n)}return t},onRemoveWidget:function(t){var i=t.options.data,n=this.state.pending.widgets;n.splice(n.indexOf(i),1),this.stopListening(t),t.remove(),this.widgets.splice(e.findIndex(this.widgets,function(e){return e.view===t}),1),this.widgets.length?this.organizer.setItems(this.widgets):this.showZeroState()},onUpdateWidget:function(){this.organizer.update()},onWidgetMoved:function(e,t){var i=t.view.options.data,n=this.state.pending.widgets;n.splice(n.indexOf(i),1);var a=this.widgets[this.widgets.indexOf(t)-1];if(a){var s=n.indexOf(a.view.options.data);n.splice(s+1,0,i)}else n.unshift(i)},setContent:function(e){if(e.parentNode!==this.element){for(;this.element.lastElementChild;)this.element.lastElementChild.remove();this.element.appendChild(e)}},setDraggable:function(e){for(var t=e?"setAttribute":"removeAttribute",i=0;i<this.widgets.length;i++){var n=this.widgets[i];n.element[t]("data-droppable",""),n.element.firstElementChild[t]("data-draggable","")}},showWidgets:function(e){var t=e?this.state.pending.widgets:this.state.widgets;this.widgets=this.createWidgets(t),this.widgets.length?(this.setContent(this.organizer.getElement()),e?this.element.insertBefore(this.addNewLink,this.element.firstElementChild):this.addNewLink.remove(),this.setDraggable(e),this.organizer.setItems(this.widgets)):this.showZeroState()},showView:function(e){this.view=new e({state:this.state}),this.view.render(),this.setContent(this.view.element)},showZeroState:function(){this.element.innerHTML=l.render({header:a.get("tabZeroStateHeader"),description:a.get("tabZeroStateDescription").replace(/\[(.+?)\]/g,'<a href="#home/newTab/edit/newWidget">$1</a>')})}})}),define("framework-home/src/data/widgetTabList",["./list","../utility/getSimpleId","./localSession"],function(e,t,i){"use strict";function n(t){e.call(this),this.dataSource=t||i,this.on("all",this.save,this)}return n.prototype=Object.create(e.prototype),n.prototype.load=function(){this.items=this.dataSource.getWidgetTabs()},n.prototype.map=function(e){return e.id=t(this.items),e},n.prototype.save=function(){this.dataSource.setWidgetTabs(this.items)},n}),define("framework-home/src/views/tabView",["lodash","framework-core","framework-controls","./activityFeedView","./appView","../resources","template!../templates/tabs.html","template!../templates/tabsMobile.html","./widgetPageView","../data/widgetTabList"],function(e,t,i,n,a,s,o,r,l,d){"use strict";return t.View.extend({className:"home__tab-view",domEvents:{"click .home__tab-edit-button":"onEditTabClick","click .home__tab-link--new":"onNewTabClick"},initialize:function(e){this.options=e||{},this.widgetTabList=this.options.widgetTabList||d.instance,this.widgetPageView=this.options.widgetPageView||l,void 0===this.options.isSmallForm&&(this.options.isSmallForm="phone"===(new t.PlatformDetector).type()),this.tabs=this.options.tabs||[{def:{title:s.get("appsTabTitle"),id:"apps"},viewType:a},{def:{title:s.get("activityTabTitle"),id:"activity"},viewType:n}],this.tabs=this.tabs.concat(this.widgetTabList.get().map(function(e){return{def:e,viewType:this.widgetPageView}},this)),this.tabs.forEach(function(e){e.href="#home/"+e.def.id},this)},render:function(){var e=this.options.isSmallForm?r:o;this.element.innerHTML=e.render({addTabText:s.get("addTabAction"),path:this.options.path,tabs:this.tabs}),this.options.isSmallForm&&(this.tabTitle=this.element.querySelector(".home__tab-title"),this.menuButton=new i.MenuButton(this.tabTitle.parentNode,null,{centerHorizontally:!0,modifyButtonState:!1,showPointer:!0}),this.listenTo(this.menuButton,{"click:item":this.onMenuItemClick,open:this.onMenuOpened}));for(var t=this.options.isSmallForm?"home__tab-step":"home__tab",n=this.element.getElementsByClassName(t),a=0;a<this.tabs.length;a++)this.tabs[a].element=n[a]},getTab:function(t){return this.tab&&"newTab"===t?this.tab.isPending?this.tab:(this.previousTab=this.tab,this.createTab()):t&&e.find(this.tabs,function(e){return e.def.id==t})||this.tabs[0]},getNextTab:function(e){return this.tabs[this.tabs.indexOf(this.tab)+e]},getPreviousTabId:function(){return this.previousTab&&this.previousTab.def.id},isTabEditable:function(e){return this.tabs.indexOf(e)>1},onDeleteTabClick:function(){this.trigger("click:deleteTab",this)},onEditTabClick:function(){t.Location.navigate("#home/"+this.tab.def.id+"/edit",{trigger:!0})},onMenuItemClick:function(e,t){this[t.sourceItem.action](e.sourceEvent)},onMenuOpened:function(e){e.cancel=!0;var t=this.tabs.indexOf(this.tab);if(t>0){var i=[{name:s.get("addTabAction"),iconClass:"icon-add_thin",action:"onNewTabClick"}];t>1&&(i.push({name:s.get("editTabAction"),iconClass:"icon-edit",action:"onEditTabClick"}),i.push({name:s.get("deleteTabAction"),iconClass:"icon-delete",action:"onDeleteTabClick"})),this.menuButton.open(i)}},onNewTabClick:function(){t.Location.navigate("#home/newTab",{trigger:!0})},setSelectedTab:function(e){if(this.tab===e)e.view.render();else if(this.tab&&(this.tab.view.remove(),this.tab.element.classList.remove("selected"),this.tab.isPending&&this.removeTab()),this.tab=e,e){e.element.classList.add("selected"),e.view=new e.viewType({state:this.options.state}),e.view.render();var t=this.tabs.indexOf(e);this.options.isSmallForm?(this.tabTitle.textContent=e.def.title,this.tabTitle.nextElementSibling.style.display=t>0?"":"none"):this.element.classList.toggle("home--editable-tab",this.isTabEditable(e))}},addTab:function(){this.widgetTabList.add(this.tab.def);var e=this.tab.def.id,i="#home/"+e;this.tab.href=i,this.tab.isPending=!1,this.options.isSmallForm||(this.tab.element.firstElementChild.href=i),this.trigger("add:tab",e),this.setSelectedTab(),t.Location.navigate(i,{replace:!0,trigger:!0})},createTab:function(){var e=this.tab.element.parentElement,t={element:this.tab.element.cloneNode(!0),viewType:this.widgetPageView,isPending:!0,def:{}};return this.options.isSmallForm?(e.insertBefore(t.element,this.previousTab.element.nextElementSibling),this.tabs.splice(this.tabs.indexOf(this.previousTab)+1,0,t)):(t.element.firstElementChild.textContent="",
e.insertBefore(t.element,e.lastElementChild),this.tabs.push(t)),t},deleteTab:function(){var e=this.tabs.indexOf(this.tab);if(this.removeTab(),this.tab.isPending)t.Location.navigate(this.previousTab.href,{replace:!0,trigger:!0});else{this.widgetTabList.remove(this.tab.def),this.trigger("delete:tab",this.tab.def.id);var i=this.tabs[Math.min(this.tabs.length-1,e+1)];t.Location.navigate(i.href,{replace:!0,trigger:!0})}},removeTab:function(){this.tab.element.remove(),this.tabs.splice(this.tabs.indexOf(this.tab),1)},saveTab:function(e){this.tab.def.title=e.title||s.get("untitledTab");var t=this.options.isSmallForm?this.tabTitle:this.tab.element.firstElementChild;t.textContent=this.tab.def.title||"",this.tab.isPending?this.addTab():this.widgetTabList.save()}})}),define("framework-home/src/views/homeView",["lodash","framework-core","framework-controls","./cabView","../utility/getSimpleId","../resources","../utility/swipeHandler","./tabView","../data/widgetList"],function(e,t,i,n,a,s,o,r,l){"use strict";return t.View.extend({className:"home-view",domEvents:{"click .js-cancel-button":"onCancelClick","click .js-delete-button":"onDeleteTabClick","click .js-done-button":"onDoneClick"},initialize:function(e){this.options=e,this.widgetList=e.widgetList||l.instance,this.state={widgetDefs:this.widgetList.definitions},void 0===this.options.isSmallForm&&(this.options.isSmallForm="phone"===(new t.PlatformDetector).type()),this.options.isSmallForm&&new o(this.element).on("swipe",this.onSwipe,this);var i=e.tabView||r;this.tabView=new i({state:this.state}),this.listenTo(this.tabView,{"add:tab":this.onTabAdded,"delete:tab":this.onTabDeleted,"click:deleteTab":this.onDeleteTabClick})},render:function(){this.tabView.render(),this.tabContent=document.createElement("div"),this.tabContent.className="home__tab-content",this.element.appendChild(this.tabView.element),this.element.appendChild(this.tabContent)},onActivated:function(){this.state.tab&&this.state.tab.view.render()},onDeactivated:function(){this.dialog&&this.dialog.close()},onRoute:function(t,i,n,a){if(this.state.widget=null,this.state.tab=this.tabView.getTab(t),this.state.widgets=this.widgetList.get(),this.state.widgetDef=this.widgetList.definitions[a],"newWidget"===n)this.state.widget={},this.state.widgetDef&&(this.state.widget.type=a);else if(n){var s=this.state.pending&&this.state.pending.widgets||this.state.widgets;this.state.widget=e.find(s,function(e){return e.id==n&&e.tab==this.state.tab.def.id&&this.widgetList.definitions[e.type]}.bind(this)),this.state.widget&&(this.state.widgetDef=this.widgetList.definitions[this.state.widget.type])}this.tabContent.classList.toggle("is-editing",this.state.widget),this.state.tab.isPending||i&&this.tabView.isTabEditable(this.state.tab)?(this.state.pending||(this.state.pending={tab:e.assign({},this.state.tab.def),widgets:e.cloneDeep(this.widgetList.get())}),this.showCABToolbar()):(this.state.pending=null,this.removeCABToolbar()),this.state.isEditing=null!=this.cabView,this.tabView.setSelectedTab(this.state.tab),this.updatePath();var o=this.state.tab.view.element;o.parentNode!==this.tabContent&&this.tabContent.appendChild(o)},updatePath:function(){if(this.path=[this.options.path,this.state.tab.def.id||"newTab"],this.state.isEditing){this.path.push("edit");var e=this.state.widget;e&&(e.id?this.path.push(e.id):(this.path.push("newWidget"),this.state.widgetDef&&this.path.push(e.type)))}var i=this.path.join("/");i!==location.hash&&t.Location.navigate(i,{replace:!0,trigger:!1})},hasPendingChanges:function(){return this.state.pending&&!e.isEqual(this.state.pending,{tab:this.state.tab.def,widgets:this.state.widgets})},onCancel:function(){this.state.tab.isPending&&this.path.length<=3?this.path=[this.options.path,this.tabView.getPreviousTabId()]:this.path.pop(),t.Location.navigate(this.path.join("/"),{trigger:!0})},onCancelClick:function(){this.path.length<=3&&this.hasPendingChanges()?this.showDialog({title:s.get("cancelAction"),content:s.get("cancelMessage",{tabName:this.state.tab.def.title||"this tab"}),buttons:[{text:"cancel"},{className:"btn--alert",action:this.onCancel.bind(this),text:s.get("cancelAction")}]}):(this.revertPendingWidgetChanges(),this.onCancel())},onDeleteTabClick:function(){this.showDialog({title:s.get("deleteTabAction"),content:s.get("deleteTabMessage",{tabName:this.state.tab.def.title||"this tab"}),buttons:[{text:"cancel"},{className:"btn--alert",text:s.get("deleteTabAction"),action:this.tabView.deleteTab.bind(this.tabView)}]})},onDoneClick:function(){5==this.path.length&&(this.state.widget.tab=this.state.tab.def.id,this.state.widget.id=a(this.state.pending.widgets),this.state.pending.widgets.push(this.state.widget),this.path.pop()),this.path.pop(),this.path.length<3&&this.saveChanges(),t.Location.navigate(this.path.join("/"),{trigger:!0})},onSwipe:function(e,i){var n=this.tabView.getNextTab(i?-1:1);n&&t.Location.navigate(n.href,{replace:!0,trigger:!0})},onTabAdded:function(e){this.widgetList.add(this.state.pending.widgets.filter(function(t){return t.tab?!1:(t.tab=e,!0)}))},onTabDeleted:function(e){this.widgetList.remove(this.widgetList.get().filter(function(t){return t.tab===e},this))},removeCABToolbar:function(){this.cabView&&(this.element.classList.remove("home--cab-mode"),this.tabView.previousTab=null,this.cabView.remove(),this.cabView=null)},revertPendingWidgetChanges:function(){if(this.state.widget&&this.state.widget.id&&this.state.pending){var t=this.state.widget.id,i=e.find(this.state.widgets,function(e){return e.id===t}),n=this.state.pending.widgets,a=n.indexOf(this.state.widget);n[a]=e.cloneDeep(i)}},saveChanges:function(){this.tabView.saveTab(this.state.pending.tab),this.hasPendingChanges()&&this.widgetList.set(this.state.pending.widgets)},showCABToolbar:function(){this.cabView||(this.element.classList.add("home--cab-mode"),this.cabView=new n({state:this.state}),this.element.insertBefore(this.cabView.element,this.element.firstElementChild)),this.cabView.render()},showDialog:function(e){this.dialog=i.Dialog.show(e),this.dialog.once("click:button",function(e,t){t.action&&t.action()},this),this.dialog.once("closed",function(){this.dialog=null},this)}})}),define("framework-home/src/homeModule",["framework-core","./resources","./views/homeView"],function(e,t,i){"use strict";var n;return e.Module.extend({path:"#home",title:t.get("title"),offlineCompatible:!0,routes:{"":"onRoute",":tab(/:tabState)(/:widget)(/:widgetDef)":"onRoute"},initialize:function(e){n=this,this.View=e&&e.View||i},onRoute:function(){this.view||(this.view=new this.View({path:this.path}),this.view.render(),this.on({activated:this.view.onActivated,deactivated:this.view.onDeactivated},this.view),this.element.appendChild(this.view.element)),this.view.onRoute.apply(this.view,arguments)}},{get:function(){return n||new this}})}),define("less:framework-home/src/styles",["require"],function(e){var t=".display-flex{display:-webkit-flex;display:-ms-flexbox;display:flex}.module-home .home-view{height:100%}.module-home .home__tabs{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;border-bottom:1px solid #cacacd;margin:0}.module-home .home__tab{position:relative;font-size:18px;padding:0 20px}.module-home .home__tab.selected:after,.module-home .home__tab.selected:before{content:'';position:absolute;bottom:-1px;border:9px solid transparent;border-top:none}.module-home .home__tab.selected:before{border-bottom-color:#cacacd;margin-left:-9px}.module-home .home__tab.selected:after{border-width:8px;border-bottom-color:#f4f4f8;margin-left:-8px}.module-home .home__tab-link,.module-home .home__tab-link--new{display:block;line-height:49px;white-space:nowrap}.module-home .home__tab-link{color:#32323c}.module-home .home__tab-link--new .icon{vertical-align:baseline}.module-home .home__tab-actions{width:100%}.module-home .home__tab--mobile{position:relative;text-align:center;height:60px}.module-home .home__tab--mobile .icon{vertical-align:middle}.module-home .home__tab--mobile:before{content:'';position:absolute;left:10px;right:10px;height:1px;bottom:9px;background-color:#cacacd}.module-home .home__tab-steps{position:absolute;display:-webkit-flex;display:-ms-flexbox;display:flex;background:#f4f4f8;padding:0 8px;bottom:5px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.module-home .home__tab-step{border:1px solid #cacacd;border-radius:50%;height:9px;width:9px;margin:0 2px}.module-home .home__tab-step.selected{border-color:#5a5a64;background-color:#5a5a64}.module-home .home__tab-content{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:calc(100% - 50px);overflow-x:hidden;overflow-y:auto}.phone .module-home .home__tab-content{height:calc(100% - 60px)}.phone .module-home .home__tab-content.is-editing{height:100%}.module-home .home__tab-edit-button{position:absolute;right:20px;top:10px}.module-home .home__cab-toolbar{height:50px}.module-home .home__tab-name{margin-right:10px}.module-home .home__tab-name:not(:focus){color:#fff;border-color:transparent;background-color:transparent;cursor:pointer}.module-home .home__tab-name::-webkit-input-placeholder{color:#fff}.module-home .home__tab-name:-ms-input-placeholder{color:#fff}.module-home .home__tab-name::-moz-placeholder{color:#fff}.module-home .home--cab-mode .home__tab--mobile,.module-home .home--cab-mode .home__tab-edit-button,.module-home .home--cab-mode .home__tabs,.module-home .home__tab-view:not(.home--editable-tab) .home__tab-edit-button{display:none}.module-home .home__tab-name-container{padding:10px 20px}.module-home .home__cab-title{font-size:16px}.phone .module-home .home__cab-toolbar{position:fixed;top:0;left:0;height:60px}.phone .module-home .home__tab-name{width:100%;text-align:center}.module-home .home__app-view{margin:auto;padding:10px}.module-home .home__app-list{display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin:0}.module-home .home__app-item{width:300px;margin:10px;padding:10px;background-color:#fff;border:1px solid #cacacd;cursor:pointer}.module-home .home__app-item:focus:not(:active):not([data-focus-hidden]){border:1px solid #1c64b4}.module-home .home__app-widget{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#32323c}.module-home .app__title{font-size:16px;font-weight:500;margin-top:0;margin-bottom:5px}.module-home .app__action{font-size:12px}.module-home .app__icon{margin-right:10px}.module-home .app__icon--image{height:96px;width:96px}.module-home .app__icon.icon{font-size:72px;padding:12px}.phone .module-home .app__icon--image{height:64px;width:64px}.phone .module-home .app__icon.icon{font-size:48px;padding:8px}@media (max-width:500px){.module-home .home__app-item{width:100%}}.module-home .home__activity-feed-view{max-width:1000px;width:100%}.module-home .home__activity-feed-view .grid{border:1px solid #cacacd;min-height:300px;margin:20px}.module-home .home__activity-feed-view .grid .item-container{padding:0}.module-home .home__activity-view .grid{min-height:200px}.home__widget-view{-ms-flex-grow:1;-webkit-flex-grow:1;flex-grow:1;max-width:1000px}.card-organizer .home__widget{position:absolute}.home__widget{display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;overflow:hidden;background-color:#fff;border:1px solid #cacacd;max-height:400px}.home__widget .widget__header{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-ms-flex-shrink:0;-webkit-flex-shrink:0;flex-shrink:0;font-size:18px;padding:10px 10px 10px 20px;border-bottom:1px solid #cacacd}.home__widget .widget__header[data-draggable]{cursor:pointer}.home__widget .widget__header button{-ms-flex-shrink:0;-webkit-flex-shrink:0;flex-shrink:0}.home__widget .widget__add-button{width:100%}.home__widget .widget__header-icon{margin-right:5px}.home__widget .widget__title{margin:0 auto 0 0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:18px}.home__widget .widget__body{-ms-flex-grow:1;-webkit-flex-grow:1;flex-grow:1;overflow-y:auto}.home__widget.dragging{z-index:100}.home__widget:not(.dragging){transition-property:top,left;transition-duration:.3s;transition-timing-function:ease-out}.home__widget>.card__metadata{padding:20px;bottom:-100px}.home__widget--new{padding:20px 20px 0;text-align:center}.home__widget--new .icon{vertical-align:baseline}.home__widget-config-view{padding:20px}.home__widget-config-view .home__widget{position:relative}.home__widget-config-view .properties-header{border-bottom:1px solid #cacacd;margin-bottom:10px}.widget-config__header{display:-webkit-flex;display:-ms-flexbox;display:flex}.widget-config__example{-ms-flex:2 0 0%;-webkit-flex:2 0 0%;flex:2 0 0%;overflow:hidden}.widget-config__description{margin-left:20px;-ms-flex:1 0 0%;-webkit-flex:1 0 0%;flex:1 0 0%;-webkit-order:1;-ms-flex-order:1;order:1}.widget-config__settings{margin-top:20px}.phone .home__widget-view{margin:auto}.phone .home__widget-view>.card__metadata{position:relative;-ms-flex-shrink:0;-webkit-flex-shrink:0;flex-shrink:0;bottom:auto;opacity:1}.phone .home__widget--new{padding-top:10px}@media (max-width:600px){.widget-config__header{display:block}.widget-config__description{margin:0 0 20px}}";!function(e,t){var i=document.createElement("style");if(i.type="text/css",t){var n=t.toUrl("./"),a=n.indexOf(":");a=0>a?0:a+1,n=require.toUrl("./")+n.slice(a),e=e.replace(/url\(framework-require-plugins-css-funtime-token\//g,"url("+n)}i.innerHTML=e,document.head.appendChild(i)}(t,e)}),define("framework-home/src/exports",["require","framework-core","./widgets","./homeModule","./data/activityList","./data/appList","./data/widgetList","./data/widgetTabList","less!./styles"],function(e,t,i,n,a,s,o,r){"use strict";var l=t.TypeWrapper.wrap,d=s.instance=new s,h=a.instance=new a,c=o.instance=new o,m=r.instance=new r;return t.session.on("begin",function(){c.load(),m.load()}),i(c),{HomeModule:n,activity:l(h,null,{members:["add","get","remove"]}),apps:l(d,null,{members:["add","get","remove"]}),tabs:l(m,null,{members:["add","get","remove"]}),widgets:l(c,null,{members:["add","get","remove","register"]}),icons:{FPO_Circle:e.toUrl("./images/icon__FPO_circle.svg"),FPO_Square:e.toUrl("./images/icon__FPO_square.svg"),FPO_RoundedSquare:e.toUrl("./images/icon__FPO_rounded_square.svg")}}}),define("framework-home/metadata.json",{name:"framework-home",main:"src/exports",version:"1.2.3",dependencies:{"framework-controls":"^3","framework-core":"^2",lodash:"^4"}});